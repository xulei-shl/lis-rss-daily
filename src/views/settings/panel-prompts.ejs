<section class="settings-panel" data-tab="prompts">
  <div class="system-prompts-section">
    <div class="section-header">
      <h2>系统提示词</h2>
      <div class="action-buttons">
        <button class="btn btn-secondary" onclick="bootstrapSystemPrompts()">初始化默认模板</button>
        <button class="btn btn-primary" onclick="showPromptAddModal()">+ 添加提示词</button>
      </div>
    </div>

    <!-- 变量说明面板 -->
    <div class="variables-info-panel">
      <details>
        <summary>📖 查看可用变量说明</summary>
        <div class="variables-info-content">
          <h4>系统提示词变量说明</h4>
          <p class="info-desc">在提示词模板中使用 <code>{{变量名}}</code> 格式引用变量，运行时会被实际值替换。变量定义从后端 API 动态加载，与 <code>src/config/system-prompt-variables.ts</code> 保持一致。</p>

          <div class="variable-group">
            <h5>全量变量列表（不分类型）</h5>
            <table class="variables-table">
              <tbody id="promptVariablesTableBody">
                <tr><td colspan="2">正在加载变量定义...</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </details>
    </div>

    <p class="muted-text" style="margin: -12px 0 16px;">
      建议先初始化默认模板，再按需调整各类型提示词。
    </p>

    <table class="prompts-table" id="systemPromptsTable">
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>启用</th>
          <th>更新时间</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody id="systemPromptsBody">
        <!-- 动态加载 -->
      </tbody>
    </table>

    <div id="systemPromptsEmpty" class="empty-state" style="display: none;">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9h8M8 13h6M9 17h6M5 5h14a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2z" />
      </svg>
      <p>暂无系统提示词</p>
      <p style="font-size: 0.9rem; margin-top: 8px;">点击上方按钮添加您的第一条提示词</p>
    </div>
  </div>
</section>
