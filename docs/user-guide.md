# 用户使用手册

本手册面向 RSS Literature Tracker 的最终用户，介绍如何使用系统的各项功能。

---

## 目录

- [快速入门](#快速入门)
- [界面概览](#界面概览)
- [RSS 源管理](#rss-源管理)
- [主题词配置](#主题词配置)
- [文章管理](#文章管理)
- [语义搜索](#语义搜索)
- [数据统计](#数据统计)
- [常见问题](#常见问题)

---

## 快速入门

### 首次登录

1. 访问系统地址（默认: `http://localhost:3000`）
2. 使用默认账号登录:
   - 用户名: `admin`
   - 密码: `admin123`
3. 首次登录后，**请立即修改密码**

### 基本工作流程

```
添加 RSS 源 → 配置主题词 → 触发抓取 → 自动过滤 → 查看结果 → 导出文章
                                  ↓
                            filter_status 自动更新
```

---

## 界面概览

### 导航菜单

| 菜单项 | 功能 |
|--------|------|
| 首页 | 查看每日新增文章统计和时间线 |
| 文章 | 文章列表，支持筛选和搜索 |
| 搜索 | 语义搜索相关文章 |
| 设置 | RSS 源管理和系统设置 |
| 主题 | 主题领域和关键词管理 |
| 过滤日志 | 查看文章过滤记录 |
| 过滤统计 | 查看过滤效果统计 |
| 登出 | 退出登录 |

### 设计风格

系统采用 **Academic Brutalist（学术粗野主义）** 设计风格：

- **字体**: Crimson Pro（标题）+ IBM Plex Sans（正文）
- **色彩**: 米白背景 + 深蓝强调色
- **特点**: 极简、高对比度、信息密度高

---

## RSS 源管理

### 添加 RSS 源

1. 进入「设置」页面
2. 点击「添加 RSS 源」
3. 填写信息:
   - **名称**: 源的显示名称（如「arXiv AI」）
   - **URL**: RSS 订阅地址
   - **抓取间隔**: 小时数（默认 24 小时）
   - **启用状态**: 是否启用此源
4. 点击「保存」

### 常用学术 RSS 源

| 来源 | RSS 地址 |
|------|----------|
| arXiv AI | https://arxiv.org/rss/cs.AI |
| arXiv ML | https://arxiv.org/rss/cs.LG |
| Nature AI | https://www.nature.com/nai/rss |
| Science AI | https://www.science.org/rss/news_main.xml |
| ACL Anthology | https://aclanthology.org/feed.xml |
| OpenReview | https://openreview.net/rss |

### 管理 RSS 源

在「设置」页面可以：

- **编辑**: 修改源配置
- **删除**: 删除源（已抓取的文章会保留）
- **验证**: 检查 URL 是否为有效的 RSS 源
- **立即抓取**: 手动触发抓取（忽略间隔时间）

### 抓取调度

系统支持两种抓取方式：

1. **自动抓取**: 按 Cron 表达式定时执行（默认每天 9 点）
2. **手动抓取**: 在「设置」页面点击「抓取全部」或单个源的「立即抓取」

---

## 主题词配置

### 主题领域

主题领域是研究方向的分类，如「机器学习」、「自然语言处理」等。

#### 创建主题领域

1. 进入「主题」页面
2. 在「主题领域」列点击「添加领域」
3. 填写信息:
   - **名称**: 领域名称
   - **描述**: 简短描述
   - **颜色**: 用于 UI 标识的颜色
4. 点击「保存」

#### 管理主题领域

- **编辑**: 修改领域信息
- **删除**: 删除领域（关联的关键词也会被删除）

### 主题关键词

主题关键词用于文章过滤，支持中英文关键词。

#### 添加关键词

1. 进入「主题」页面
2. 选择一个主题领域
3. 在「关键词」列点击「添加关键词」
4. 填写信息:
   - **关键词**: 过滤关键词（如 "deep learning"）
   - **权重**: 1-10，权重越高匹配优先级越高
   - **同义词**: 可选，用逗号分隔
5. 点击「保存」

#### 关键词示例

| 主题领域 | 关键词 | 同义词 |
|----------|--------|--------|
| 机器学习 | deep learning | 深度学习 |
| 机器学习 | transformer |注意力机制 |
| NLP | large language model | LLM, 大语言模型 |
| NLP | GPT | ChatGPT |
| 计算机视觉 | diffusion model | 扩散模型 |

### 过滤机制

系统采用**两阶段过滤**：

1. **关键词匹配**: 快速筛选包含关键词的文章
2. **LLM 分析**: 对匹配的文章进行智能判断，决定是否通过

#### 自动过滤

新文章从 RSS 抓取后会**自动触发过滤流程**：

| 状态 | 说明 |
|------|------|
| pending | 新文章默认状态 |
| passed | 通过过滤，可进入 LLM 分析流程 |
| rejected | 未通过过滤，不会进入分析流程 |

过滤完成后，`filter_status` 会自动更新为 `passed` 或 `rejected`。

---

## 文章管理

### 文章列表

进入「文章」页面查看所有文章。

#### 筛选选项

| 筛选器 | 说明 |
|--------|------|
| 来源 | 按 RSS 源筛选 |
| 过滤状态 | passed（通过）/ rejected（拒绝）/ pending（待处理） |
| 处理状态 | completed（已完成）/ processing（处理中）/ failed（失败）/ pending（待处理） |
| 日期范围 | 按发布日期筛选 |

#### 搜索

- **关键词搜索**: 在标题、摘要中搜索
- **防抖搜索**: 输入后 300ms 自动触发搜索

#### 批量操作

- **批量处理**: 处理所有 `filter_status='passed'` 且 `process_status='pending'` 的文章
- **删除**: 删除选中的文章

> **注意**: 新文章抓取后会自动触发过滤，无需手动点击"筛选"按钮。

### 文章详情

点击文章标题进入详情页面，包含：

#### 主内容区

- **标题**: 文章原始标题
- **来源**: RSS 源名称
- **发布时间**: 原始发布时间
- **链接**: 原文链接
- **全文内容**: 抓取的 Markdown 格式全文

#### AI 分析区

- **中文摘要**: 200-300 字的中文总结
- **研究标签**: 3-5 个关键词标签
- **研究洞察**: 2-4 条核心发现/价值点

#### 相关文章

- 基于历史文章的相似度推荐
- 显示相关度评分

#### 操作按钮

- **导出**: 导出为 Markdown 文件
- **重新处理**: 重新运行 LLM 分析
- **删除**: 删除文章

### 文章处理状态

| 状态 | 说明 |
|------|------|
| pending | 等待处理 |
| processing | 正在分析 |
| completed | 处理完成 |
| failed | 处理失败（可重试） |

---

## 语义搜索

### 搜索页面

进入「搜索」页面使用语义搜索功能。

### 使用方法

1. 在搜索框中输入**自然语言描述**
2. 系统自动搜索（500ms 防抖）
3. 结果按相关度排序显示

### 搜索示例

| 查询 | 说明 |
|------|------|
| "如何使用 transformer 做时间序列预测" | 具体技术问题 |
| "GPT-4 的最新进展" | 领域动态 |
| "diffusion model 在图像生成中的应用" | 应用场景 |

### 相关度等级

- **高**: 相关度 > 0.8
- **中**: 相关度 0.5 - 0.8
- **低**: 相关度 < 0.5

### 混合检索

系统支持三种搜索模式：

- **语义搜索**: 使用向量模型进行语义匹配
- **关键词搜索**: 使用数据库 LIKE 查询
- **混合搜索**: 结合语义和关键词结果

### 搜索模式

进入「搜索」页面，可以选择搜索模式：

| 模式 | 说明 |
|------|------|
| 语义 | 向量检索，支持自然语言查询 |
| 关键词 | 传统关键词匹配 |
| 混合 | 向量 + 关键词融合 |

---

## 数据统计

### 过滤统计

进入「过滤统计」页面查看：

#### 总体统计

- **总文章数**: 累计抓取的文章数量
- **通过数**: 过滤通过的文章数
- **拒绝数**: 被过滤掉的文章数
- **通过率**: 通过数 / 总数

#### 各领域统计

| 主题领域 | 抓取数 | 通过数 | 拒绝数 | 通过率 |
|----------|--------|--------|--------|--------|
| 机器学习 | 150 | 80 | 70 | 53% |
| NLP | 120 | 60 | 60 | 50% |

### 过滤日志

进入「过滤日志」页面查看每篇文章的过滤记录：

- 文章标题
- 所属领域
- 过滤结果（passed/rejected）
- 过滤原因（LLM 判断依据）
- 过滤时间

---

## 首页仪表板

### 统计卡片

| 指标 | 说明 |
|------|------|
| 今日新增 | 今天抓取的文章数 |
| 待处理 | 等待 LLM 分析的文章数 |
| 已分析 | 已完成分析的文章数 |
| 通过率 | 最近 7 天的平均通过率 |

### 文章时间线

按日期分组显示最近的文章，默认显示最近 7 天。

---

## 常见问题

### Q: 抓取的文章数量为 0？

**A**: 可能原因：
- RSS 源 URL 无效，尝试点击「验证」按钮
- 源内容没有更新
- 抓取间隔时间未到

### Q: 文章过滤全部被拒绝？

**A**: 检查：
- 主题关键词是否设置正确
- 关键词是否过于具体
- 查看「过滤日志」了解 LLM 的拒绝原因

### Q: LLM 分析失败？

**A**: 可能原因：
- API Key 未配置或无效
- API 额度已用完
- 网络连接问题

检查方法：进入「过滤日志」，查看错误详情。

### Q: 语义搜索无结果？

**A**:
- 确认 Chroma 向量数据库已启动
- 确认 Embedding 模型配置正确
- 检查 Chroma 连接配置（host/port）
- 如果向量检索失败，系统会提示配置问题

### Q: 如何修改密码？

**A**:
1. 登录后进入「设置」页面
2. 在「账户设置」区域修改密码
3. 保存后重新登录

### Q: 如何导出所有文章？

**A**:
- 已分析的文章会自动导出到 `data/exports/` 目录
- 可在文章详情页点击「导出」按钮手动导出
- 导出文件格式: `{articleId}-{slug}.md`

### Q: 如何定期备份数据？

**A**:
建议定期备份 `data/` 目录：
- `data/database.sqlite`: 数据库文件
- `data/exports/`: 导出的文章

### Q: 系统支持多用户吗？

**A**:
当前版本为单用户系统，未来会添加多用户支持。

---

## 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `/` | 聚焦搜索框 |
| `Esc` | 关闭弹窗/模态框 |
| `Ctrl/Cmd + K` | 快速搜索 |

---

## 最佳实践

### 1. RSS 源配置

- **相关性**: 只订阅与研究方向相关的源
- **频率**: 避免订阅更新过于频繁的源
- **数量**: 建议 5-20 个源

### 2. 主题词设置

- **粒度**: 不要太宽泛（如 "AI"）或太具体（如 "GPT-4 Turbo"）
- **同义词**: 添加中英文同义词提高召回率
- **权重**: 为重要关键词设置更高权重

### 3. 定期维护

- **查看过滤日志**: 了解哪些关键词效果好
- **调整关键词**: 根据过滤结果优化主题词
- **清理旧文章**: 定期删除不需要的文章

---

## 技术支持

如有问题或建议，请：

- 查看 [开发者文档](developer-guide.md)
- 提交 [GitHub Issue](https://github.com/yourusername/lis-rss-daily/issues)

---

**祝您研究顺利！**
